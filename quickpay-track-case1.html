<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Space+Mono:wght@700&display=swap" rel="stylesheet">
    <title>Case 1: Product Sense - QuickPay - PM Playground</title>
    <style>
        :root {
            --primary: #0ea5e9;
            --primary-dark: #0369a1;
            --accent: #14b8a6;
            --neutral-900: #0f172a;
            --neutral-800: #1e293b;
            --neutral-700: #334155;
            --neutral-600: #475569;
            --neutral-400: #94a3b8;
            --success: #10b981;
            --warning: #f59e0b;
            --ai: #8b5cf6;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--neutral-900);
            color: white;
            line-height: 1.6;
        }
        
        /* Header */
        .header {
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--neutral-700);
            padding: 14px 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .header .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.875rem;
        }
        .breadcrumb a {
            color: var(--neutral-400);
            text-decoration: none;
            transition: color 0.2s;
        }
        .breadcrumb a:hover { color: white; }
        .breadcrumb .sep { color: var(--neutral-600); }
        .breadcrumb .current { color: white; font-weight: 600; }
        
        .home-btn {
            background: rgba(14, 165, 233, 0.1);
            border: 1px solid rgba(14, 165, 233, 0.3);
            color: var(--primary);
            padding: 8px 16px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 600;
            transition: all 0.2s;
        }
        .home-btn:hover {
            background: rgba(14, 165, 233, 0.2);
            transform: translateX(-2px);
        }
        
        /* Content */
        .main {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 24px 80px;
        }
        
        .case-header {
            text-align: center;
            margin-bottom: 50px;
        }
        .case-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(14, 165, 233, 0.15);
            border: 1px solid rgba(14, 165, 233, 0.3);
            padding: 6px 16px;
            border-radius: 12px;
            font-size: 0.8125rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 16px;
        }
        .case-header h1 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 12px;
            letter-spacing: -0.01em;
        }
        .case-header p {
            font-size: 1.125rem;
            color: var(--neutral-400);
        }
        
        /* Section Cards */
        .section {
            background: var(--neutral-800);
            border: 1px solid var(--neutral-700);
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 24px;
            animation: fadeIn 0.4s ease;
        }
        .section h2 {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .section p {
            color: var(--neutral-400);
            font-size: 1rem;
            line-height: 1.7;
        }
        
        /* Interview Box */
        .interview-box {
            background: linear-gradient(135deg, rgba(14, 165, 233, 0.1), rgba(20, 184, 166, 0.1));
            border: 1px solid rgba(14, 165, 233, 0.2);
            border-radius: 16px;
            padding: 32px;
            margin: 24px 0;
        }
        .avatar {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            margin: 0 auto 20px;
        }
        .interview-info {
            text-align: center;
            margin-bottom: 32px;
        }
        .interview-info h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 6px;
        }
        .interview-info .role {
            color: var(--primary);
            font-weight: 600;
        }
        .interview-info .tenure {
            color: var(--neutral-400);
            font-size: 0.875rem;
        }
        
        .message {
            background: rgba(14, 165, 233, 0.08);
            border-left: 3px solid var(--primary);
            padding: 16px 20px;
            border-radius: 8px;
            margin: 16px 0;
        }
        .message strong { color: var(--primary); }
        
        /* Questions */
        .questions {
            display: grid;
            gap: 12px;
            margin: 30px 0;
        }
        .question-btn {
            background: rgba(139, 92, 246, 0.12);
            border: 1px solid rgba(139, 92, 246, 0.3);
            color: white;
            padding: 16px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9375rem;
            font-weight: 500;
            text-align: left;
            transition: all 0.2s ease;
        }
        .question-btn:hover {
            background: rgba(139, 92, 246, 0.2);
            border-color: var(--ai);
            transform: translateX(4px);
        }
        .question-btn.asked {
            background: rgba(16, 185, 129, 0.12);
            border-color: var(--success);
            opacity: 0.6;
            cursor: default;
        }
        .question-btn.asked:hover { transform: none; }
        
        /* Analysis Grid */
        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 30px 0;
        }
        .analysis-box {
            background: var(--neutral-800);
            border: 1px solid var(--neutral-700);
            border-radius: 12px;
            padding: 24px;
            transition: all 0.3s;
        }
        .analysis-box.locked {
            opacity: 0.4;
            pointer-events: none;
        }
        .analysis-box.unlocked {
            animation: unlock 0.3s ease;
        }
        @keyframes unlock {
            from { transform: scale(0.95); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        .analysis-box h3 {
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .step-number {
            width: 28px;
            height: 28px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
            font-weight: 700;
        }
        .analysis-box textarea {
            width: 100%;
            background: var(--neutral-900);
            border: 1px solid var(--neutral-700);
            color: white;
            padding: 14px;
            border-radius: 8px;
            font-family: inherit;
            font-size: 0.9375rem;
            min-height: 100px;
            resize: vertical;
            transition: border-color 0.2s;
        }
        .analysis-box textarea:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        /* Buttons */
        .btn-primary {
            background: var(--success);
            color: white;
            border: none;
            padding: 16px 40px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            width: 100%;
            margin-top: 32px;
            transition: all 0.2s ease;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.4);
        }
        .btn-primary:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none;
        }
        
        .ai-btn {
            background: rgba(139, 92, 246, 0.15);
            border: 1px solid rgba(139, 92, 246, 0.3);
            color: var(--ai);
            padding: 10px 18px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            margin-top: 12px;
            margin-right: 8px;
        }
        .ai-btn:hover {
            background: rgba(139, 92, 246, 0.25);
        }
        
        /* Progress Indicator */
        .progress-dots {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin: 30px 0;
        }
        .dot {
            width: 12px;
            height: 12px;
            background: var(--neutral-700);
            border-radius: 50%;
            transition: all 0.3s;
        }
        .dot.complete {
            background: var(--success);
            transform: scale(1.2);
        }
        
        /* Results */
        .results {
            text-align: center;
        }
        .score-circle {
            width: 180px;
            height: 180px;
            border: 8px solid var(--success);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.5rem;
            font-weight: 800;
            margin: 40px auto;
            animation: scaleIn 0.5s ease;
        }
        @keyframes scaleIn {
            from { transform: scale(0); }
            to { transform: scale(1); }
        }
        
        .learning-box {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(14, 165, 233, 0.1));
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: 16px;
            padding: 32px;
            margin: 30px 0;
        }
        .learning-box h3 {
            font-size: 1.25rem;
            margin-bottom: 20px;
        }
        .learning-box ul {
            list-style: none;
            display: grid;
            gap: 12px;
        }
        .learning-box li {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            font-size: 1rem;
        }
        .learning-box li::before {
            content: '‚úì';
            color: var(--success);
            font-weight: 700;
            flex-shrink: 0;
        }
        
        .reality-check {
            background: rgba(245, 158, 11, 0.08);
            border-left: 4px solid var(--warning);
            border-radius: 8px;
            padding: 20px 24px;
            margin: 24px 0;
        }
        .reality-check h4 {
            color: var(--warning);
            font-size: 0.9375rem;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .reality-check p {
            font-size: 0.875rem;
            line-height: 1.7;
            color: var(--neutral-400);
        }
        .reality-check ul {
            margin: 12px 0;
            padding-left: 20px;
        }
        .reality-check li {
            font-size: 0.875rem;
            margin: 6px 0;
            color: var(--neutral-400);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .analysis-grid { grid-template-columns: 1fr; }
            .header .container { padding: 0 16px; }
            .main { padding: 30px 16px; }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <div class="breadcrumb">
                <a href="../index.html">üè† Home</a>
                <span class="sep">/</span>
                <a href="index.html">QuickPay</a>
                <span class="sep">/</span>
                <span class="current">Product Sense</span>
            </div>
            <a href="../index.html" class="home-btn">‚Üê Back to Home</a>
        </div>
    </div>
    
    <div class="main">
        <div id="screen1">
            <div class="case-header">
                <div class="case-badge">
                    <span>üß†</span>
                    <span>CASE 1 OF 8</span>
                </div>
                <h1>Product Sense</h1>
                <p>Interview merchants before deciding what to build</p>
            </div>
            
            <div class="section">
                <h2>üìß The Request</h2>
                <p><strong style="color: var(--warning);">Monday, 9:47 AM. Your first week as PM.</strong></p>
                <p style="margin-top: 16px;">You open Slack to find a merchant email forwarded by Sales: <em>"We need <strong style="color: var(--primary);">UPI AutoPay</strong> integration ASAP or we're evaluating Razorpay."</em></p>
                <p style="margin-top: 16px;">Your hands hover over the keyboard. Build it? Ignore it? Your CEO Raj is watching how you handle your first customer request.</p>
                <p style="margin-top: 16px;"><strong>Your move:</strong> Interview the merchant first. Understand the real problem before committing engineering resources.</p>
            </div>

            <div class="reality-check">
                <h4>‚è∞ REALITY CHECK</h4>
                <p>In real PM work, this takes <strong>1-2 weeks</strong> because:</p>
                <ul>
                    <li>8-12 customer interviews (60-90 min each) to validate the problem</li>
                    <li>Survey 100+ customers to quantify pain point frequency</li>
                    <li>Competitive analysis and market research</li>
                    <li>Legal/compliance review for feature feasibility</li>
                </ul>
                <p style="margin-top: 12px;"><em>Real example: When Razorpay built instant settlements (2018), they interviewed 50+ merchants over 3 weeks before writing a single line of code.</em></p>
            </div>

            <button class="btn-primary" onclick="showInterview()">
                Start Interview ‚Üí
            </button>
        </div>
        
        <div id="screen2" style="display: none;">
            <div class="interview-box">
                <div class="avatar">üë®‚Äçüíº</div>
                <div class="interview-info">
                    <h3>Priya Sharma</h3>
                    <div class="role">SaaS Founder</div>
                    <div class="tenure">QuickPay merchant ‚Ä¢ 8 months</div>
                </div>
                
                <div id="conversation"></div>
                
                <div class="questions">
                    <button class="question-btn" onclick="ask(1, this)">Tell me about your business and payment needs</button>
                    <button class="question-btn" onclick="ask(2, this)">What's the main problem you're trying to solve?</button>
                    <button class="question-btn" onclick="ask(3, this)">How does this impact your business metrics?</button>
                    <button class="question-btn" onclick="ask(4, this)">Why specifically UPI AutoPay vs other solutions?</button>
                    <button class="question-btn" onclick="ask(5, this)">Do your competitors offer this feature?</button>
                </div>
                
                <div style="background: rgba(251, 191, 36, 0.1); border: 1px solid rgba(251, 191, 36, 0.2); padding: 16px 20px; border-radius: 8px; margin-top: 24px; text-align: center;">
                    <strong style="color: var(--warning);">Questions Asked: <span id="qCount">0/5</span></strong>
                    <div style="font-size: 0.875rem; color: var(--neutral-400); margin-top: 4px;">Ask at least 3 to proceed</div>
                </div>
            </div>
            
            <button class="btn-primary" id="analyzeBtn" disabled onclick="showAnalysis()">
                Analyze Request ‚Üí
            </button>
        </div>
        
        <div id="screen3" style="display: none;">
            <div class="case-header">
                <h1>Break Down the Request</h1>
                <p>Apply product thinking framework to structure your analysis</p>
            </div>
            
            <div class="analysis-grid">
                <div class="analysis-box" id="box1">
                    <h3>
                        <span class="step-number">1</span>
                        <span>Context</span>
                    </h3>
                    <p style="font-size: 0.875rem; color: var(--neutral-400); margin-bottom: 12px;">Who is Priya? What's her situation?</p>
                    <textarea id="context" placeholder="SaaS company with ‚Çπ12L MRR, 200 subscribers paying monthly..." oninput="checkProgress(1)"></textarea>
                    <div style="text-align: right; margin-top: 8px; font-size: 0.8125rem; color: var(--neutral-400);">
                        <span id="c1">0</span>/60 chars
                    </div>
                    <button class="ai-btn" onclick="aiGen(1)">
                        <span>‚ú®</span>
                        <span>Generate</span>
                    </button>
                </div>
                
                <div class="analysis-box locked" id="box2">
                    <h3>
                        <span class="step-number">2</span>
                        <span>Problem</span>
                    </h3>
                    <p style="font-size: 0.875rem; color: var(--neutral-400); margin-bottom: 12px;">What pain is she experiencing?</p>
                    <textarea id="problem" placeholder="15% subscribers cancel due to manual payment..." oninput="checkProgress(2)"></textarea>
                    <div style="text-align: right; margin-top: 8px; font-size: 0.8125rem; color: var(--neutral-400);">
                        <span id="c2">0</span>/60 chars
                    </div>
                    <button class="ai-btn" onclick="aiGen(2)">
                        <span>‚ú®</span>
                        <span>Generate</span>
                    </button>
                </div>
                
                <div class="analysis-box locked" id="box3">
                    <h3>
                        <span class="step-number">3</span>
                        <span>Solution</span>
                    </h3>
                    <p style="font-size: 0.875rem; color: var(--neutral-400); margin-bottom: 12px;">How does UPI AutoPay solve this?</p>
                    <textarea id="solution" placeholder="Auto-debits on due date, reduces manual renewal..." oninput="checkProgress(3)"></textarea>
                    <div style="text-align: right; margin-top: 8px; font-size: 0.8125rem; color: var(--neutral-400);">
                        <span id="c3">0</span>/60 chars
                    </div>
                    <button class="ai-btn" onclick="aiGen(3)">
                        <span>‚ú®</span>
                        <span>Generate</span>
                    </button>
                </div>
                
                <div class="analysis-box locked" id="box4">
                    <h3>
                        <span class="step-number">4</span>
                        <span>Impact</span>
                    </h3>
                    <p style="font-size: 0.875rem; color: var(--neutral-400); margin-bottom: 12px;">How do we measure success?</p>
                    <textarea id="impact" placeholder="Track: AutoPay adoption %, churn reduction, MRR retention..." oninput="checkProgress(4)"></textarea>
                    <div style="text-align: right; margin-top: 8px; font-size: 0.8125rem; color: var(--neutral-400);">
                        <span id="c4">0</span>/60 chars
                    </div>
                    <button class="ai-btn" onclick="aiGen(4)">
                        <span>‚ú®</span>
                        <span>Generate</span>
                    </button>
                </div>
            </div>
            
            <div class="progress-dots">
                <div class="dot" id="dot1"></div>
                <div class="dot" id="dot2"></div>
                <div class="dot" id="dot3"></div>
                <div class="dot" id="dot4"></div>
            </div>
            
            <button class="btn-primary" id="submitBtn" disabled onclick="showResults()">
                Submit Analysis ‚Üí
            </button>
        </div>
        
        <div id="screen4" style="display: none;">
            <div class="results">
                <div style="font-size: 4rem; margin-bottom: 20px;">‚ú®</div>
                <h1>Great Product Thinking!</h1>
                
                <div class="score-circle">
                    <span id="scoreNum">85</span>
                </div>
                
                <div class="learning-box">
                    <h3>üéì What You Learned</h3>
                    <ul>
                        <li>Always interview before deciding to build</li>
                        <li>Separate the problem from the requested solution</li>
                        <li>Understand business context and impact</li>
                        <li>Define measurable success metrics</li>
                    </ul>
                </div>

                <div class="section" style="background: rgba(139, 92, 246, 0.08); border-color: rgba(139, 92, 246, 0.3);">
                    <h2 style="color: var(--ai);">üìñ Storytelling Practice</h2>
                    <p style="margin-top: 12px; color: var(--text-muted);">
                        <strong>Scenario:</strong> You need to pitch UPI AutoPay to your engineering lead Ananya. She's skeptical because the team is already at capacity.
                    </p>
                    <p style="margin-top: 12px; color: var(--text); font-weight: 600;">
                        How would you tell this story to convince her? (Write 2-3 sentences)
                    </p>
                    <textarea id="storyText" placeholder="Your pitch to Engineering..." style="width: 100%; min-height: 100px; background: var(--neutral-900); border: 1px solid var(--neutral-700); color: white; padding: 14px; border-radius: 8px; font-family: inherit; font-size: 0.9375rem; margin-top: 12px; resize: vertical;"></textarea>
                    <button class="ai-btn" onclick="showStoryFeedback()" style="margin-top: 12px;">
                        See Example Stories ‚Üí
                    </button>

                    <div id="storyFeedback" style="display: none; margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--border);">
                        <h3 style="color: var(--danger); margin-bottom: 12px;">‚ùå Weak Story (Data Dump):</h3>
                        <p style="background: rgba(239, 68, 68, 0.08); padding: 16px; border-radius: 8px; color: var(--text-muted); font-style: italic; line-height: 1.7;">
                            "UPI AutoPay will reduce churn by 10 percentage points. It affects SaaS merchants with recurring payments. The ROI is positive based on our calculations."
                        </p>
                        <p style="margin-top: 8px; font-size: 0.875rem; color: var(--text-dim);">
                            <strong>Why weak:</strong> Just numbers. No emotion. No urgency. Engineering doesn't feel the customer pain.
                        </p>

                        <h3 style="color: var(--success); margin-top: 24px; margin-bottom: 12px;">‚úÖ Strong Story (Narrative):</h3>
                        <p style="background: rgba(16, 185, 129, 0.08); padding: 16px; border-radius: 8px; color: var(--text-muted); font-style: italic; line-height: 1.7;">
                            "Priya runs a SaaS company. Every month, 15% of her customers churn because payments fail. She's considering leaving us for Razorpay. If we build UPI AutoPay, we save Priya's business AND prevent 847 other SaaS merchants from churning. Can we prioritize this?"
                        </p>
                        <p style="margin-top: 8px; font-size: 0.875rem; color: var(--text-dim);">
                            <strong>Why strong:</strong> Named character (Priya), emotional stakes (her business), competitive threat (Razorpay), scale impact (847 merchants). Engineering feels the urgency.
                        </p>

                        <div style="margin-top: 20px; padding: 16px; background: rgba(139, 92, 246, 0.1); border-radius: 8px; border-left: 4px solid var(--ai);">
                            <strong style="color: var(--ai);">üí° Storytelling Formula:</strong><br>
                            <span style="color: var(--text-muted); font-size: 0.9375rem; margin-top: 8px; display: block;">
                                <strong>Character</strong> (Priya) + <strong>Problem</strong> (churn hurts her business) + <strong>Stakes</strong> (she might leave) + <strong>Solution</strong> (UPI AutoPay) + <strong>Scale</strong> (847 merchants) = Compelling narrative
                            </span>
                        </div>
                    </div>
                </div>

                <div class="section" style="background: rgba(139, 92, 246, 0.05); border-color: rgba(139, 92, 246, 0.2);">
                    <h2 style="color: var(--ai);">üì¨ Slack Message from CEO Raj</h2>
                    <p style="color: var(--text-muted); font-style: italic;">
                        "Good instinct interviewing Priya before committing to build. That's how we avoid wasting engineering cycles on the wrong problems. Keep this up."
                    </p>
                    <p style="margin-top: 16px; color: var(--neutral-400); font-size: 0.9375rem;">
                        <strong style="color: var(--primary);">Relationship:</strong> Raj is starting to trust your judgment. You'll work closely with him throughout your PM journey.
                    </p>
                </div>

                <button class="btn-primary" onclick="window.location.href='case2.html'">
                    Continue to Case 2: Know Your Merchants ‚Üí
                </button>
            </div>
        </div>
    </div>
    
    <script>
        let questionsAsked = 0;
        let completed = {1: false, 2: false, 3: false, 4: false};
        
        const answers = {
            1: "I run a SaaS company - ‚Çπ12L MRR, 200 subscribers. They pay ‚Çπ6K monthly via UPI manually.",
            2: "15% cancel because manual payment is friction. They forget, card expires, hassle. I lose ‚Çπ1.8L MRR monthly.",
            3: "That's ‚Çπ21L annually! If AutoPay cuts churn to 5%, I save ‚Çπ12L yearly. Worth it for my growth.",
            4: "Subscribers want 'set and forget'. They're busy founders. AutoPay like Netflix - seamless, no thinking.",
            5: "Razorpay has it. Stripe has it. I'm losing customers to competitors who offer this."
        };
        
        function showInterview() {
            document.getElementById('screen1').style.display = 'none';
            document.getElementById('screen2').style.display = 'block';
            window.scrollTo(0, 0);
        }
        
        function ask(num, btn) {
            if (btn.classList.contains('asked')) return;
            
            btn.classList.add('asked');
            questionsAsked++;
            localStorage.setItem('case1_questions', questionsAsked);
            
            const conv = document.getElementById('conversation');
            conv.innerHTML += `
                <div style="margin: 20px 0;">
                    <div style="background: rgba(139, 92, 246, 0.1); border-left: 3px solid var(--ai); padding: 14px 18px; border-radius: 8px; margin-bottom: 12px;">
                        <strong style="color: var(--ai);">You:</strong> ${btn.textContent}
                    </div>
                    <div class="message">
                        <strong>Priya:</strong> ${answers[num]}
                    </div>
                </div>
            `;
            
            conv.scrollTop = conv.scrollHeight;
            document.getElementById('qCount').textContent = questionsAsked + '/5';
            
            if (questionsAsked >= 3) {
                document.getElementById('analyzeBtn').disabled = false;
            }
        }
        
        function showAnalysis() {
            document.getElementById('screen2').style.display = 'none';
            document.getElementById('screen3').style.display = 'block';
            window.scrollTo(0, 0);
        }
        
        function checkProgress(num) {
            const fields = {
                1: document.getElementById('context'),
                2: document.getElementById('problem'),
                3: document.getElementById('solution'),
                4: document.getElementById('impact')
            };
            
            const len = fields[num].value.length;
            document.getElementById('c' + num).textContent = len;
            
            if (len >= 60 && !completed[num]) {
                completed[num] = true;
                document.getElementById('dot' + num).classList.add('complete');
                
                if (num < 4) {
                    const nextBox = document.getElementById('box' + (num + 1));
                    nextBox.classList.remove('locked');
                    nextBox.classList.add('unlocked');
                }
            }
            
            if (completed[1] && completed[2] && completed[3] && completed[4]) {
                document.getElementById('submitBtn').disabled = false;
            }
        }
        
        function showStoryFeedback() {
            document.getElementById('storyFeedback').style.display = 'block';
            document.getElementById('storyFeedback').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function aiGen(num) {
            const examples = {
                1: "SaaS company, ‚Çπ12L MRR, 200 subscribers paying ‚Çπ6K monthly, manual UPI payments causing 15% churn.",
                2: "Subscribers forget to pay manually, cards expire, creates friction - losing ‚Çπ1.8L MRR monthly (‚Çπ21L/year).",
                3: "UPI AutoPay auto-debits on due date, 'set and forget' like Netflix, removes manual payment friction entirely.",
                4: "Measure: AutoPay adoption %, churn reduction from 15% to 5%, MRR retention increase, customer satisfaction."
            };
            
            const fields = {1: 'context', 2: 'problem', 3: 'solution', 4: 'impact'};
            document.getElementById(fields[num]).value = examples[num];
            checkProgress(num);
        }
        
        function showResults() {
            const score = 75 + (questionsAsked * 5);
            document.getElementById('scoreNum').textContent = score;

            document.getElementById('screen3').style.display = 'none';
            document.getElementById('screen4').style.display = 'block';
            window.scrollTo(0, 0);
        }
        const productMap = {quickpay: "QuickPay", foodexpress: "FoodExpress", quickmart: "QuickMart"};
        const path = window.location.pathname;
        const product = Object.keys(productMap).find(p => path.includes(p));
        const caseMatch = path.match(/case(\d)/);
        if (product) {
            const pName = document.getElementById("productName");
            if (pName) pName.textContent = productMap[product];
        }
        if (caseMatch) {
            const cNum = document.getElementById("caseNum");
            if (cNum) cNum.textContent = caseMatch[1];
        }
    </script>
